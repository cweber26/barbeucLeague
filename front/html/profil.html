<!DOCTYPE html>
<html>

<head>
    <?!= include("front/html/head"); ?>
    <?!= include("front/css/css"); ?>
    <?!= includeWithArgs("front/html/nav", {mail: mail, key: key, admin: admin}); ?>
</head>

<body>
    <div class="container">
    <div class="row"></div>
        <div class="row">
            <div class="input-field col s12">
                <? if(admin) { ?>
                <input id="mail" type="text" class="autocomplete" value="<?=mail?>">
                <? } else { ?>
                <input id="mail" type="text" class="validate" value="<?=mail?>" disabled>
                <? } ?>
                <input id="key" type="text" class="validate" value="<?=key?>" disabled hidden>
                <label for="mail">Mail</label>
            </div>
        </div>
        <!-- ROW -->
        <div class="row">
            <div class="input-field col s4">
                <input id="prenom" type="text" class="validate" value="<?=player.firstName?>" required>
                <label for="prenom">Prénom</label>
            </div>
            <div class="input-field col s4">
                <input id="nom" type="text" class="validate" value="<?=player.lastName?>" required>
                <label for="nom">Nom</label>
            </div>
            <div class="input-field col s4">
                <input id="surnom" type="text" class="validate" value="<?=player.nickName?>" required>
                <label for="surnom">Surnom</label>
            </div>
        </div>
        <!-- ROW -->
        <div class="row">
            <div class="switch input-field col s3">
                <label>
                    Disponible
                    <? if(player.isUnavailable) { ?>
                     <input id="indispo" type="checkbox" checked>
                    <? } else { ?>
                     <input id="indispo" type="checkbox">
                    <? } ?>
                    <span class="lever"></span> Indisponible
                </label>
            </div>
            <div class="input-field col s3">
                <? if(player.endDateOfUnavailibility) { ?>
                <script> document.addEventListener('DOMContentLoaded', function() {
                           var datePicker = document.getElementById('indispoDate');
                           M.Datepicker.init(datePicker, {
                           autoClose: true,
                           minDate: new Date(Date.now()),
                           format: 'dd/mm/yyyy',
                           defaultDate: new Date(<?=Utilities.formatDate(new Date(player[8]), "GMT", "MM/dd/yy")?>),
                           setDefaultDate: true
                           });
                        });
                </script>
                <? } ?>
                <input id="indispoDate" type="text" class="datepicker col s6">
                <label for="indispoDate">Date fin indisponibilité</label>
            </div>
            <div class="switch input-field col s1">
                <label>Jour de dispo: </label>
            </div>
            <div class="switch input-field col s1">
                <label>
                    <? if(player.mondaySelected) { ?>
                    <input id="lundi" type="checkbox" class="filled-in" checked="checked"/>
                    <? } else { ?>
                    <input id="lundi" type="checkbox" class="filled-in"/>
                    <? } ?>
                    <span>Lundi</span>
                </label>
            </div>
            <div class="switch input-field col s1">
                <label>
                    <? if(player.tuesdaySelected) { ?>
                    <input id="mardi" type="checkbox" class="filled-in" checked="checked"/>
                    <? } else { ?>
                    <input id="mardi" type="checkbox" class="filled-in"/>
                    <? } ?>
                    <span>Mardi</span>
                </label>
            </div>
            <div class="switch input-field col s1">
                <label>
                    <? if(player.wednesdaySelected) { ?>
                    <input id="mercredi" type="checkbox" class="filled-in" checked="checked"/>
                    <? } else { ?>
                    <input id="mercredi" type="checkbox" class="filled-in"/>
                    <? } ?>
                    <span>Mercredi</span>
                </label>
            </div>
            <div class="switch input-field col s1">
                <label>
                    <? if(player.thursdaySelected) { ?>
                    <input id="jeudi" type="checkbox" class="filled-in" checked="checked"/>
                    <? } else { ?>
                    <input id="jeudi" type="checkbox" class="filled-in"/>
                    <? } ?>
                    <span>Jeudi</span>
                </label>
            </div>
            <div class="switch input-field col s1">
                <label>
                    <? if(player.fridaySelected) { ?>
                    <input id="vendredi" type="checkbox" class="filled-in" checked="checked"/>
                    <? } else { ?>
                    <input id="vendredi" type="checkbox" class="filled-in"/>
                    <? } ?>
                    <span>Vendredi</span>
                </label>
            </div>
        </div>
        <!-- ROW -->
        <div class="row">
            <div class="input-field col s6">
                <select id="site" required>
                    <option disabled>Choisi ton lieu de départ</option>
                    <? if(player.site=="Campus") { ?>
                    <option selected>Campus</option>
                    <? } else { ?>
                    <option>Campus</option>
                    <? } ?>
                    <? if(player.site=="Btwin") { ?>
                    <option selected>Btwin</option>
                    <? } else { ?>
                    <option>Btwin</option>
                    <? } ?>
                    <? if(player.site=="Croix") { ?>
                    <option selected>Croix</option>
                    <? } else { ?>
                    <option>Croix</option>
                    <? } ?>
                    <? if(player.site=="V2") { ?>
                    <option selected>V2</option>
                    <? } else { ?>
                    <option>V2</option>
                    <? } ?>
                    <? if(player.site=="Autre") { ?>
                    <option selected>Autre</option>
                    <? } else { ?>
                    <option>Autre</option>
                    <? } ?>
                </select>
                <label>Lieu</label>
            </div>
            <div class="input-field col s6">
                <select id="poste" required>
                    <option disabled selected value="">Choisi ton poste préféré</option>
                    <? if(player.position=="Attaquant") { ?>
                    <option selected>Attaquant</option>
                    <? } else { ?>
                    <option>Attaquant</option>
                    <? } ?>
                    <? if(player.position=="Défenseur") { ?>
                    <option selected>Défenseur</option>
                    <? } else { ?>
                    <option>Défenseur</option>
                    <? } ?>
                    <? if(player.position=="Polyvalent") { ?>
                    <option selected>Polyvalent</option>
                    <? } else { ?>
                    <option>Polyvalent</option>
                    <? } ?>
                    <? if(player.position=="Gardien") { ?>
                    <option selected>Gardien</option>
                    <? } else { ?>
                    <option>Gardien</option>
                    <? } ?>
                </select>
                <label>Poste</label>
            </div>
        </div>
        <!-- ROW -->
        <div class="row">
            <div class="col s4">
                <p>
                    <label>
                        Niveau dribble
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDribble=="1") { ?>
                        <input value="1" id="dribble" name="dribble" type="radio" checked required/>
                        <? } else { ?>
                        <input value="1" id="dribble" name="dribble" type="radio" required/>
                        <? } ?>
                        <span>C'est pas mon truc</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDribble=="2") { ?>
                        <input value="2" id="dribble" name="dribble" type="radio" checked/>
                        <? } else { ?>
                        <input value="2" id="dribble" name="dribble" type="radio"/>
                        <? } ?>
                        <span>Je me débrouille</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDribble=="3") { ?>
                        <input value="3" id="dribble" name="dribble" type="radio" checked/>
                        <? } else { ?>
                        <input value="3" id="dribble" name="dribble" type="radio"/>
                        <? } ?>
                        <span>J'en abuse parfois (je dribble dans la mauvaise direction)</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDribble=="4") { ?>
                        <input value="4" id="dribble" name="dribble" type="radio" checked/>
                        <? } else { ?>
                        <input value="4" id="dribble" name="dribble" type="radio"/>
                        <? } ?>
                        <span>Je maitrise</span>
                    </label>
                </p>
            </div>
            <div class="col s4">
                <p>
                    <label>
                        Niveau frappe
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelFrappe=="1") { ?>
                        <input value="1" id="frappe" name="frappe" type="radio" checked required/>
                        <? } else { ?>
                        <input value="1" id="frappe" name="frappe" type="radio" required/>
                        <? } ?>
                        <span>C'est pas mon truc</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelFrappe=="2") { ?>
                        <input value="2" id="frappe" name="frappe" type="radio" checked/>
                        <? } else { ?>
                        <input value="2" id="frappe" name="frappe" type="radio"/>
                        <? } ?>
                        <span>Uniquement proche du but</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelFrappe=="3") { ?>
                        <input value="3" id="frappe" name="frappe" type="radio" checked/>
                        <? } else { ?>
                        <input value="3" id="frappe" name="frappe" type="radio"/>
                        <? } ?>
                        <span>J'en abuse parfois (je frappe dans la mauvaise direction)<br>De près et de loin mais c’est pas toujours précis</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelFrappe=="4") { ?>
                        <input value="4" id="frappe" name="frappe" type="radio" checked/>
                        <? } else { ?>
                        <input value="4" id="frappe" name="frappe" type="radio"/>
                        <? } ?>
                        <span>Je frappe précisément de loin et de près</span>
                    </label>
                </p>
            </div>
            <div class="col s4">
                <p>
                    <label>
                        Niveau défense
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDefense=="1") { ?>
                        <input value="1" id="defense" name="defense" type="radio" checked required/>
                        <? } else { ?>
                        <input value="1" id="defense" name="defense" type="radio" required/>
                        <? } ?>
                        <span>C'est pas mon truc</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDefense=="2") { ?>
                        <input value="2" id="defense" name="defense" type="radio" checked/>
                        <? } else { ?>
                        <input value="2" id="defense" name="defense" type="radio"/>
                        <? } ?>
                        <span>Uniquement lorsque le ballon est proche.<br>Si je suis dribblé ou si je perd la balle je ne suis pas toujours mon joueur </span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDefense=="3") { ?>
                        <input value="3" id="defense" name="defense" type="radio" checked/>
                        <? } else { ?>
                        <input value="3" id="defense" name="defense" type="radio"/>
                        <? } ?>
                        <span>Je me place et je suis mon joueur jusqu’à la fin de l’action.<br>Quand je suis en attaque je ne fais pas toujours l’effort de revenir</span>
                    </label>
                </p>
                <p>
                    <label>
                        <? if(player.levelDefense=="4") { ?>
                        <input value="4" id="defense" name="defense" type="radio" checked/>
                        <? } else { ?>
                        <input value="4" id="defense" name="defense" type="radio"/>
                        <? } ?>
                        <span>Je me place et je suis mon joueur jusqu’à la fin de l’action.<br>Je fais toujours l’effort de revenir ou j’ai tendance à rester en défense lorsque mon équipe attaque</span>
                    </label>
                </p>
            </div>
        </div>
        <div class="row">
            <a id="update" class="buttonGreen">Update</a>
        </div>
    </div>
    <div class="fixed-action-btn direction-top active" style="bottom: 45px; right: 24px;">
        <a data-target="helper" class="btn-floating btn-large waves-effect waves-light modal-trigger green lighten-2 pulse"><i class="material-icons">help_outline</i></a>
    </div>
    <div id="helper" class="modal">
        <div class="modal-content">
            <h5>Indisponibilité</h5>
            <p>Si tu te mets indisponible tu ne recevras plus aucun mail
            <br>Tu peux mettre une date de fin d'insponibilité
            <br>Tu seras automatiquement remis disponible pour le match après cette date de fin d'indispo
            <br>Si tu ne mets pas de date tu devras manuellement enlever ton indiso via l'url présent
            </p>
            <h5>Jour de match</h5>
            <p>Tu peux choisir les jours de match pour lesquel tu es dispo ou non
            <br>Tu ne recevras les invitations que pour les matchs prévus pour tes jours de dispo
            </p>
            <h5>Site/lieu de départ</h5>
            <p>L'information site permet de voir facilement dans la composition les joueurs vennant du même site que toi afin de faire du covoiturage
            </p>
            <h5>Niveaux</h5>
            <p>Il est important de mettre tes niveaux à jour afin que la composition automatique soit la plus équilibrée possible
            </p>
        </div>
    </div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<?!= includeWithArgs("front/js/profil-js", {mailList: mailList}); ?>
<?!= include("front/js/nav-js"); ?>
</html>
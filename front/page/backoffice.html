<!DOCTYPE html>
<html>

<head>
    <?!= include("front/page/head"); ?>
    <?!= include("front/css/pageCss"); ?>
    <?!= include("front/css/mainCss"); ?>
    <?!= includeWithArgs("front/page/nav", {mail: mail, key: key, fullName: fullName, admin: admin, testing: testing, page: "backoffice"}); ?>
</head>

<body>
<div class="container">
    <div class="row">
        <h4>Paramétrage général</h4>
    </div>
    <div class="row">
        <div class="input-field col s4">
            <label for="applicationName">Nom de l'équipe</label><input id="applicationName" type="text" class="validate" value="<?=param.applicationName?>" required>
        </div>
        <div class="input-field col s4">
            <label for="nbPlayersMatch">Nombre joueurs</label><input id="nbPlayersMatch" type="number" class="validate" value="<?=param.nbPlayersMatch?>" required>
        </div>
        <div class="input-field col s4">
            <label for="nbLimitPlayers">Nombre limite pour annulation auto</label><input id="nbLimitPlayers" type="number" class="validate" value="<?=param.nbLimitPlayers?>" required>
        </div>
    </div>
    <div class="row">
        <h4>Paramétrage classement</h4>
    </div>
    <div class="row">
        <div class="input-field col s4">
            <label for="victory">Points par victoire</label><input id="victory" type="number" class="validate" value="<?=param.victory?>" required>
        </div>
        <div class="input-field col s4">
            <label for="draw">Points par match nul</label><input id="draw" type="number" class="validate" value="<?=param.draw?>" required>
        </div>
        <div class="input-field col s4">
            <label for="defeat">Points par défaite</label><input id="defeat" type="number" class="validate" value="<?=param.defeat?>" required>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s4 offset-s2">
            <label for="offensiveBonus">Points de bonus offensif</label><input id="offensiveBonus" type="number" class="validate" value="<?=param.offensiveBonus?>" required>
        </div>
        <div class="input-field col s4">
            <label for="offensiveBonusGap">Ecart minimum pour bonus offensif</label><input id="offensiveBonusGap" type="number" class="validate" value="<?=param.minGoalGap?>" required>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s4 offset-s2">
            <label for="defensiveBonus">Points de bonus défensif</label><input id="defensiveBonus" type="number" class="validate" value="<?=param.deffensiveBonus?>" required>
        </div>
        <div class="input-field col s4">
            <label for="defensiveBonusGap">Ecart maximum pour bonus défensif</label><input id="defensiveBonusGap" type="number" class="validate" value="<?=param.maxGoalGap?>" required>
        </div>
    </div>
    <div class="row">
        <div class="input-field col s4 offset-s2">
            <label for="minMatch">Nombre minimum de match pour classement</label><input id="minMatch" type="number" class="validate" value="<?=param.minMatch?>" required>
        </div>
        <div class="input-field col s4">
            <label for="participationBonus">Coefficient de participation</label><input id="participationBonus" type="number" class="validate" value="<?=param.participationBonus?>" required>
        </div>
    </div>
    <div class="row">
        <h4>Paramétrage testing</h4>
    </div>
    <div class="row">
        <div class="switch input-field col s3 offset-s3">
            <label>
                <input id="modeTest" type="checkbox"  class="filled-in" <?if(param.modeTest) {?> checked="checked" <? } ?> />
                <span>ModeTest</span>
            </label>
        </div>
        <div class="input-field col s3">
            <label for="mailTester">Mail testeur</label><input id="mailTester" type="text" class="validate" value="<?=param.mailTester?>" required>
        </div>
    </div>
    <div class="row">
        <a id="updateParam" class="buttonGreen">Update</a>
    </div>
    <div class="divider"></div>
    <div class="row">
        <h4>Logging</h4>
    </div>
    <div class="row">
        <div class="col s3">
            <label>Envoi pour prioritaire</label>
            <br>
            <time><?=log.sentPrioritary?></time>
        </div>
        <div class="col s3">
            <label>Envoi pour prio 1</label>
            <br>
            <time><?=log.sentPrio1?></time>
        </div>
        <div class="col s3">
            <label>Envoi pour prio 2</label>
            <br>
            <time><?=log.sentPrio2?></time>
        </div>
        <div class="col s3">
            <label>Envoi pour prio 3</label>
            <br>
            <time><?=log.sentPrio3?></time>
        </div>
    </div>
    <div class="row">
        <div class="col s3">
            <label>Contrôle</label>
            <br>
            <time><?=log.control?></time>
        </div>
        <div class="col s3">
            <label>Rappel</label>
            <br>
            <time><?=log.reminder?></time>
        </div>
        <div class="col s3">
            <label>Confirmation</label>
            <br>
            <time><?=log.confirmation?></time>
        </div>
        <div class="col s3">
            <label>Création rdv</label>
            <br>
            <time><?=log.googleEvent?></time>
        </div>
    </div>
    <div class="row">
        <div class="col s3">
            <label>Compo sauvegardée</label>
            <br>
            <time><?=log.team?></time>
        </div>
    </div>
    <div class="divider"></div>
    <div class="row">
        <h4>Planning</h4>
    </div>
    <div class="row">
        <table id="scheduleTable" class="centered highlight">
            <thead>
            <tr>
                <th>Jour</th>
                <th>Lundi</th>
                <th>Mardi</th>
                <th>Mercredi</th>
                <th>Jeudi</th>
                <th>Vendredi</th>
                <th>Samedi</th>
                <th>Dimanche</th>
            </tr>
            </thead>
            <tbody>
            <?!=schedule?>
            </tbody>
        </table>
    </div>
</div>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<?!= includeWithArgs("front/js/backoffice-js"); ?>
<?!= include("front/js/nav-js"); ?>
</html>